\chapter{Protocole série du lecteur}

    Cette annexe est particulièrement intéréssante pour faire fonctionner ou debugger
le lecteur depuis un terminal permettant d'envoyer des commandes héxadécimales sur
un port série. 

    Ces valeurs sont uniquement valables pour le prototype, pour le MFR120U, se 
référer directement à la documentation officielle.

\section{Tables des réponses}

    Le tableaux ci-dessous regroupe tous les en-têtes de réponses pouvant être
retournées par le prototype après avoir reçu une commande.

\begin{table}[h]
\begin{center}

    \begin{tabular}{|c|M{3cm}|}
    \hline
    Réponse & Description \tabularnewline
    \hline
    A & Succès \tabularnewline
    \hline
    F & Exécution ratée \tabularnewline
    \hline
    E & Base de données vide \tabularnewline
    \hline
    I & Commande inconnue ou données invalides \tabularnewline
    \hline
    \end{tabular}

\end{center}
\caption{Réponses possibles du lecteur}
\label{Réponses possibles du lecteur}
\end{table}





\newpage
\section{Protocole de communication}

\begin{table}[h]
\begin{center}
    \begin{tabular}{|c|c|c|c|c|}
    \hline
    \multicolumn{5}{|c|}{Supprime tous les enregistrements} \\
    \hline
    -> & STX & \multicolumn{2}{c|}{E} & CR \\
    \hline
    <- & STX & \multicolumn{2}{c|}{A ou E} & CR \\
    \hline
    \end{tabular} 
\end{center}
\end{table}

        
\begin{table}[h]
\begin{center}
    \begin{tabular}{|c|c|c|c|c|}
    \hline
    \multicolumn{5}{|c|}{Nombre enregistrements} \\
    \hline
    -> & STX & \multicolumn{2}{c|}{N} & CR \\
    \hline
    <- & STX & A & Number & CR \\
    \hline
    \multicolumn{5}{|c|}{} \\
    \hline
    \multicolumn{5}{|c|}{Number: 4 octets } \\
    \hline
    \end{tabular} 
\end{center}
\end{table}


\begin{table}[h]
\begin{center}
    \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|}
    \hline
    \multicolumn{10}{|c|}{Enregistrement suivant} \\
    \hline
    -> & STX & \multicolumn{7}{c|}{G} & CR \\
    \hline
    <- & STX & A & Date & Time & SP & Week & Event & Data & CR \\
    \hline
    <- & STX & \multicolumn{7}{c|}{E} & CR \\
    \hline
    \end{tabular} 
\end{center}
\end{table}

